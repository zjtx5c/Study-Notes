# ç®—æ³•

## èšç±»

### DBSCANç®—æ³•

* ç†è§£ä¸€ä¸‹æµç¨‹ï¼Œå¯ä»¥çœ‹ä¸‹è¿™ä¸ªè§†é¢‘[DBSCANæµç¨‹](https://www.bilibili.com/video/BV17L4y147W2/?spm_id_from=333.337.search-card.all.click&vd_source=56ba8a8ec52809c81ce429c827dc30ab)

* ç®—æ³•ä¸­çš„å„ç§ç‚¹

  * **æ ¸å¿ƒç‚¹ï¼ˆCore Pointï¼‰**ï¼šåœ¨ `eps` åŠå¾„å†…è‡³å°‘æœ‰ `min_samples` ä¸ªæ•°æ®ç‚¹çš„ç‚¹ã€‚

    **è¾¹ç•Œç‚¹ï¼ˆBorder Pointï¼‰**ï¼šåœ¨ `eps` åŠå¾„å†…**å°‘äºŽ** `min_samples`ï¼Œä½†å±žäºŽæŸä¸ªç°‡çš„ç‚¹ã€‚

    **å™ªå£°ç‚¹ï¼ˆNoise Pointï¼‰**ï¼š**æ—¢ä¸æ˜¯æ ¸å¿ƒç‚¹ï¼Œä¹Ÿä¸æ˜¯è¾¹ç•Œç‚¹**ï¼Œå³å®ƒä¸å±žäºŽä»»ä½•ç°‡ï¼Œè¢«èµ‹å€¼ `-1`ã€‚

## å›¾å­¦ä¹ ç®—æ³•

### å›¾æ¸¸èµ°ç±»ç®—æ³•

#### DeepWalk

ç†è®ºå¯ä»¥çœ‹[è¿™ç¯‡](https://zhuanlan.zhihu.com/p/56380812) ä¸Ž [è¿™ç¯‡](https://zhuanlan.zhihu.com/p/397710211)

* æ ¸å¿ƒæ˜¯è¦ç†è§£ **Rand-Walk**  ä¸Ž **Skip-Gram** çš„æ€æƒ³

  * Rand-Walk

    * éšæœºæ¸¸èµ°ï¼Œç›®çš„æ˜¯ä¸ºäº†èŽ·å–èŠ‚ç‚¹çš„**å±€éƒ¨ç‰¹å¾**
    * æ»‘åŠ¨çª—å£é‡‡æ ·ï¼šåœ¨æ¸¸èµ°çš„æ¯ä¸€æ­¥ï¼Œé€‰æ‹©å½“å‰èŠ‚ç‚¹ `v` åŠå…¶å‰åŽ `w` æ­¥çš„èŠ‚ç‚¹ä½œä¸ºä¸€ä¸ªå±€éƒ¨ç»“æž„ï¼Œç”Ÿæˆä¸€ä¸ªè®­ç»ƒæ ·æœ¬å¯¹ã€‚è¿™äº›èŠ‚ç‚¹å¯¹å°†ç”¨äºŽè®­ç»ƒæ¨¡åž‹ã€‚

  * Skip-Gram

    * ä»€ä¹ˆæ˜¯**è´Ÿé‡‡æ ·ï¼ˆNS: Negative Samplingï¼‰æ€æƒ³ï¼Œå¦‚ä½•ç†è§£**

      * è´Ÿé‡‡æ ·ï¼ˆNegative Samplingï¼‰æ˜¯ä¸€ç§åœ¨è®­ç»ƒæ¨¡åž‹æ—¶ç”¨äºŽ**å¤„ç†å¤§é‡ç±»åˆ«é—®é¢˜**ï¼Œç‰¹åˆ«æ˜¯åœ¨æŽ¨èç³»ç»Ÿã€è¯å‘é‡è®­ç»ƒï¼ˆå¦‚Word2Vecï¼‰æˆ–å›¾ç¥žç»ç½‘ç»œä¸­çš„ä¸€ç§ä¼˜	åŒ–ç­–ç•¥ã€‚å…¶ç›®çš„æ˜¯å‡å°‘è®¡ç®—é‡å¹¶åŠ é€Ÿæ¨¡åž‹è®­ç»ƒã€‚è´Ÿé‡‡æ ·é€šè¿‡ä»Žæ‰€æœ‰ç±»åˆ«ä¸­**éšæœºé€‰æ‹©ä¸€éƒ¨åˆ†**â€œè´Ÿæ ·æœ¬â€ï¼Œè€Œä¸æ˜¯æ¯ä¸ªè´Ÿæ ·æœ¬éƒ½å‚ä¸Žè®¡ç®—ï¼Œä»Žè€Œæœ‰æ•ˆåœ°é™ä½Žè®¡ç®—é‡ã€‚

      * ä¼˜ç‚¹ï¼š

        **å‡å°‘è®¡ç®—é‡**ï¼šé€šè¿‡å‡å°‘è´Ÿæ ·æœ¬çš„æ•°é‡ï¼Œè®­ç»ƒè¿‡ç¨‹ä¸­éœ€è¦è®¡ç®—çš„ç‚¹æ•°å¤§å¤§å‡å°‘ï¼Œå°¤å…¶åœ¨å¤§è§„æ¨¡æ•°æ®é›†ä¸­ï¼Œæ•ˆæžœå°¤ä¸ºæ˜¾è‘—ã€‚

        **åŠ é€Ÿæ”¶æ•›**ï¼šå‡å°‘è®¡ç®—é‡ä¹ŸåŠ é€Ÿäº†æ¨¡åž‹çš„è®­ç»ƒï¼Œä½¿å¾—æ¨¡åž‹å¯ä»¥æ›´å¿«åœ°æ”¶æ•›ã€‚

        **æœ‰æ•ˆçš„å­¦ä¹ è´Ÿæ ·æœ¬ç‰¹å¾**ï¼šè´Ÿé‡‡æ ·ä¸ä»…å¸®åŠ©æˆ‘ä»¬å‡å°è®¡ç®—é‡ï¼Œè¿˜èƒ½æœ‰æ•ˆåœ°å­¦ä¹ è´Ÿæ ·æœ¬çš„ç‰¹å¾ã€‚

      * å¦‚ä½•é€‰æ‹©ï¼š
        è´Ÿé‡‡æ ·é€šå¸¸é‡‡ç”¨**éšæœºé€‰æ‹©**æˆ–è€…**æ ¹æ®æŸäº›ç‰¹å¾é€‰æ‹©**è´Ÿæ ·æœ¬ã€‚ä¾‹å¦‚ï¼Œåœ¨Word2Vecä¸­ï¼Œå¯ä»¥é€šè¿‡**è¯é¢‘**æ¥è°ƒæ•´è´Ÿæ ·æœ¬çš„é€‰å–æ¦‚çŽ‡ï¼Œé¢‘çŽ‡è¾ƒé«˜çš„è¯æ›´å®¹æ˜“è¢«é€‰ä¸ºè´Ÿæ ·æœ¬ï¼Œé¢‘çŽ‡è¾ƒä½Žçš„è¯è¾ƒéš¾è¢«é€‰ä¸ºè´Ÿæ ·æœ¬ã€‚
      * ä¸¾ä¸ªä¾‹å­ç†è§£ï¼šå‡è®¾è¯æ±‡è¡¨ä¸­æœ‰10000ä¸ªè¯ï¼Œä½¿ç”¨ä¼ ç»Ÿæ–¹æ³•ï¼Œä½ æ¯æ¬¡è®­ç»ƒæ—¶éœ€è¦ä¸Ž9999ä¸ªè´Ÿæ ·æœ¬ï¼ˆå³éžç›®æ ‡è¯ï¼‰è¿›è¡Œè®¡ç®—ã€‚è€Œä½¿ç”¨è´Ÿé‡‡æ ·æ—¶ï¼Œä½ åªéœ€è¦ä¸Ž5ä¸ªè´Ÿæ ·æœ¬è¿›è¡Œè®¡ç®—ï¼Œè®¡ç®—é‡å‡å°‘äº†å‡ åƒå€ã€‚æ­¤å¤–ï¼Œ**ç›®æ ‡è¯ä¸Žæ­£æ ·æœ¬ä¹‹é—´çš„å…³ç³»ä¼šè¢«å¼ºåŒ–è€Œä¸Žè´Ÿæ ·æœ¬ä¹‹é—´çš„å…³ç³»å°†ä¼šç–è¿œ**==å¦‚ä½•ç†è§£ï¼Ÿæ€Žä¹ˆåšåˆ°çš„ï¼Ÿ==
        * å……åˆ†ç†è§£å¯¹æ­£ä¾‹ã€è´Ÿä¾‹æŸå¤±å‡½æ•°çš„è®¡ç®—ï¼ˆäº¤å‰ç†µã€äººä¸ºè®¾è®¡ï¼ï¼‰
          è´Ÿæ ·æœ¬çš„æŸå¤±ä¸º $\mathcal{L}_N = -\log(1-P(neg \mid src))=-\log(1-sigmoid(\mathbf{v}_{src} \cdot \mathbf{v}_{neg}))$
          æ­£æ ·æœ¬çš„æŸå¤±ä¸º $\mathcal{L}_{T}=-\log(P(pos \mid src))= -\log(sigmoid(\mathbf{v}_{src} \cdot \mathbf{v}_{pos})$

    * ç›®æ ‡èŠ‚ç‚¹ `src` , æ­£æ ·æœ¬ `pos`, è´Ÿæ ·æœ¬ `neg`

      * **æ­£æ ·æœ¬**ï¼šæŒ‡çš„æ˜¯ç¬¦åˆæŸä¸ªç‰¹å®šæ¡ä»¶æˆ–ç›®æ ‡çš„æ ·æœ¬ã€‚ä¾‹å¦‚ï¼Œåœ¨DeepWalkä¸­ï¼Œæ­£æ ·æœ¬é€šå¸¸æ˜¯ç›®æ ‡è¯å’Œä¸Šä¸‹æ–‡è¯ä¹‹é—´çš„å®žé™…å…³ç³»ã€‚

        **è´Ÿæ ·æœ¬**ï¼šæŒ‡çš„æ˜¯é‚£äº›ä¸ç¬¦åˆç‰¹å®šæ¡ä»¶çš„æ ·æœ¬ã€‚ä¾‹å¦‚ï¼Œåœ¨DeepWalkä¸­ï¼Œè´Ÿæ ·æœ¬æ˜¯ç›®æ ‡è¯å’Œéšæœºé€‰å–çš„å…¶ä»–è¯ä¹‹é—´çš„å…³ç³»ã€‚

* å¦‚ä½•ç”¨å‘é‡è¡¨ç¤ºç½‘ç»œç»“æž„ï¼Ÿåƒè¿™ç§**ç”¨å‘é‡è¡¨ç¤ºç½‘ç»œ**çš„æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥ç»Ÿç§°ä¸º `Network Embedding`ã€‚`Network Embdding`: åœ¨**ä½Žçº¬åº¦çš„ç©ºé—´**é‡Œè¡¨ç¤º**æ•´ä¸ªç½‘ç»œ**ï¼Œå¹¶**å°½å¯èƒ½ä¿æŒç½‘ç»œçš„ç»“æž„ï¼ˆç›¸ä¼¼ï¼‰**ï¼Œå‘é‡æ˜¯ç¨ å¯†çš„ã€‚å¾—åˆ°çš„è¡¨è¾¾å‘é‡å¯ä»¥ç”¨æ¥è¿›è¡Œä¸‹æ¸¸ä»»åŠ¡ï¼Œå¦‚èŠ‚ç‚¹åˆ†ç±»ï¼Œé“¾æŽ¥é¢„æµ‹ï¼Œå¯è§†åŒ–æˆ–é‡æž„åŽŸå§‹å›¾ç­‰ã€‚

  * å®ƒæœ¬èº«ä¸ç›´æŽ¥å®Œæˆç‰¹å®šä»»åŠ¡ï¼Œè€Œæ˜¯ä¸ºä¸‹æ¸¸ä»»åŠ¡ï¼ˆå¦‚èŠ‚ç‚¹åˆ†ç±»ã€é“¾æŽ¥é¢„æµ‹ç­‰ï¼‰æä¾›é«˜è´¨é‡çš„è¾“å…¥ç‰¹å¾ã€‚
  * å› æ­¤ï¼ŒDeepWalk æ˜¯ä¸€ä¸ª**å›¾è¡¨ç¤ºå­¦ä¹ **æ–¹æ³•ï¼Œæ—¨åœ¨å°†å›¾çš„ç»“æž„ä¿¡æ¯**ç¼–ç **ä¸ºä½Žç»´å‘é‡ï¼Œä»¥ä¾¿åŽç»­ä»»åŠ¡ä½¿ç”¨ã€‚
    * ä½†æ˜¯**DeepWalk ç”Ÿæˆçš„èŠ‚ç‚¹åµŒå…¥å‘é‡çš„å¯è§£é‡Šæ€§é€šå¸¸è¾ƒå·®**ï¼Œè¿™æ˜¯å› ä¸ºå®ƒæ˜¯ä¸€ç§åŸºäºŽ**æ— ç›‘ç£å­¦ä¹ çš„è¡¨ç¤ºå­¦ä¹ æ–¹æ³•**ï¼Œå…¶ç”Ÿæˆçš„åµŒå…¥æ˜¯é«˜ç»´ç©ºé—´ä¸­çš„ç¨ å¯†å‘é‡ï¼Œç¼ºä¹ç›´æŽ¥çš„è¯­ä¹‰è§£é‡Šã€‚

* éœ€è¦æŽŒæ¡çš„æ ¸å¿ƒæ€æƒ³ä¸Žä»£ç 

  * å»ºå›¾
  * éšæœºé‡‡æ ·è·¯å¾„ï¼ˆå®Œæˆï¼‰
  * `skip-gram`ï¼Œæ»‘åŠ¨çª—å£é‡‡ `pari node` å³é‡‡æ · `src` ä¸Ž `dst` ç‚¹å¯¹
    * æ­£ä¾‹æ ·æœ¬çš„é‡‡æ ·ï¼ˆä½¿ç”¨æ»‘åŠ¨çª—å£ï¼‰	ï¼ˆå®Œæˆï¼‰
    * è´Ÿä¾‹æ ·æœ¬çš„é‡‡æ ·ï¼ˆä½¿ç”¨éšæœºé€‰æ‹©ï¼‰
  * `skip-gram` æ¨¡åž‹è®­ç»ƒï¼Œä¹Ÿå³æŸå¤±å‡½æ•°çš„æ­å»º



### å›¾ç»“æž„çš„åº¦é‡ç®—æ³•

#### PathSim

* è¿™ä¸ªæ–¹æ³•å…ˆä»¥ä¸‰å…ƒç»„ï¼ˆæˆ–æ›´é«˜ï¼‰çš„å½¢å¼æ¥æž„å»ºå­å›¾ï¼Œè¿™æ ·èƒ½å¤Ÿå”¯ä¸€ç¡®å®šä¸€ç§ç»“æž„ã€‚ä¹‹åŽå†é€šè¿‡è·¯å¾„æ¥åº¦é‡èŠ‚ç‚¹ä¹‹é—´çš„ç›¸ä¼¼åº¦ï¼ˆç›¸å½“äºŽæœ‰å“ªäº›èŠ‚ç‚¹åšäº†ç±»ä¼¼çš„äº‹æƒ…ï¼‰ï¼Œå¾ˆå¦™çš„è®¾è®¡ã€‚

> ---
>
> ### ðŸŒ åœºæ™¯ï¼šå­¦æœ¯ç½‘ç»œ
>
> å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå¼‚æž„å›¾ï¼Œæœ‰ä»¥ä¸‹ç±»åž‹çš„èŠ‚ç‚¹ï¼š
>
> - **A**ï¼šä½œè€…ï¼ˆAuthorï¼‰
> - **P**ï¼šè®ºæ–‡ï¼ˆPaperï¼‰
> - **C**ï¼šä¼šè®®ï¼ˆConferenceï¼‰
>
> è¾¹çš„å…³ç³»å¦‚ä¸‹ï¼š
>
> - Aâ€“Pï¼šä½œè€…å†™äº†è®ºæ–‡  
> - Pâ€“Cï¼šè®ºæ–‡å‘è¡¨åœ¨ä¼šè®®ä¸Š  
>
> ---
>
> ### ðŸ§© å›¾ç»“æž„ï¼ˆç¤ºæ„ï¼‰
>
> æˆ‘ä»¬æž„é€ ä»¥ä¸‹æ•°æ®ï¼š
>
> - **ä½œè€…ï¼š** A1, A2, A3  
> - **è®ºæ–‡ï¼š** P1, P2, P3, P4  
> - **ä¼šè®®ï¼š** C1, C2  
>
> è¾¹å¦‚ä¸‹ï¼š
>
> - A1 å†™äº† P1, P2  
> - A2 å†™äº† P3  
> - A3 å†™äº† P4  
> - P1, P3 å‘è¡¨åœ¨ C1  
> - P2, P4 å‘è¡¨åœ¨ C2  
>
> ç”»å›¾è¡¨ç¤ºå¦‚ä¸‹ï¼ˆA-P-Cï¼‰ï¼š
>
> ```
> A1 - P1 - C1
> A1 - P2 - C2
> A2 - P3 - C1
> A3 - P4 - C2
> ```
>
> ---
>
> ### ðŸ” å…ƒè·¯å¾„ï¼ˆMeta-pathï¼‰ï¼šAâ€“Pâ€“Câ€“Pâ€“A
>
> æˆ‘ä»¬çŽ°åœ¨çœ‹ä¸¤ä¸ªä½œè€…æ˜¯å¦â€œç»“æž„ç›¸ä¼¼â€ï¼š  
> æ„æ€æ˜¯è¯´ï¼Œâ€œä»–ä»¬æ˜¯å¦éƒ½å†™äº†å‘è¡¨åœ¨åŒä¸€ä¸ªä¼šè®®ä¸Šçš„è®ºæ–‡â€ã€‚
>
> ---
>
> ### ðŸ§® è®¡ç®— PathSim
>
> PathSim çš„å®šä¹‰å¦‚ä¸‹ï¼š
>
> $\text{PathSim}(x, y) = \frac{2 \times |\text{Path}_{x \rightarrow y}|}{|\text{Path}_{x \rightarrow x}| + |\text{Path}_{y \rightarrow y}|}$
>
> ä¹Ÿå°±æ˜¯ï¼š
>
> - åˆ†å­æ˜¯ï¼š$x$ å’Œ $y$ ä¹‹é—´ç¬¦åˆå…ƒè·¯å¾„çš„è·¯å¾„æ¡æ•° Ã— 2  
> - åˆ†æ¯æ˜¯ï¼š$x$ è‡ªå·±åˆ°è‡ªå·±ã€$y$ è‡ªå·±åˆ°è‡ªå·±çš„è·¯å¾„æ¡æ•°ä¹‹å’Œ  
>
> ---
>
> ### âœ… ä¾‹å­ï¼šè®¡ç®— A1 å’Œ A2 çš„ç›¸ä¼¼åº¦
>
> æˆ‘ä»¬èµ°è·¯å¾„ Aâ€“Pâ€“Câ€“Pâ€“Aï¼š
>
> - A1 æœ‰ä¸€æ¡è·¯å¾„ï¼šA1â€“P1â€“C1â€“P3â€“A2ï¼ˆé€šè¿‡ C1ï¼‰  
> - æ‰€ä»¥ $|\text{Path}_{A1 \rightarrow A2}| = 1$  
>
> çœ‹è‡ªå·±åˆ°è‡ªå·±çš„è·¯å¾„æ•°ï¼š
>
> - A1â€“P1â€“C1â€“P1â€“A1ã€A1â€“P2â€“C2â€“P2â€“A1 â†’ 2æ¡  
> - A2â€“P3â€“C1â€“P3â€“A2 â†’ 1æ¡  
>
> æ‰€ä»¥ï¼š
>
> $\text{PathSim}(A1, A2) = \frac{2 \times 1}{2 + 1} = \frac{2}{3} \approx 0.667$
>
> ---
>
> ### âœ… å†çœ‹çœ‹ A1 å’Œ A3
>
> - A1â€“P2â€“C2â€“P4â€“A3ï¼ˆé€šè¿‡ C2ï¼‰ â†’ 1 æ¡  
> - A3â€“P4â€“C2â€“P4â€“A3 â†’ 1 æ¡  
>
> $\text{PathSim}(A1, A3) = \frac{2 \times 1}{2 + 1} = \frac{2}{3}$
>
> æ‰€ä»¥ A1 ä¸Ž A2ã€A3 çš„ç»“æž„ç›¸ä¼¼åº¦æ˜¯ä¸€æ ·çš„ã€‚
>
> ---
>
> ### âœ… æœ€åŽçœ‹çœ‹ A2 å’Œ A3
>
> - æ²¡æœ‰å…±åŒä¼šè®®ï¼ˆA2 æ˜¯ C1ï¼ŒA3 æ˜¯ C2ï¼‰â†’ è·¯å¾„æ•°æ˜¯ 0  
>
> $\text{PathSim}(A2, A3) = \frac{2 \times 0}{1 + 1} = 0$
>
> ---
>
> ### ðŸ§  æ€»ç»“
>
> - PathSim åº¦é‡çš„æ˜¯ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦åœ¨å›¾ä¸­**æ‰®æ¼”äº†ç±»ä¼¼çš„ç»“æž„è§’è‰²**ã€‚  
> - å®ƒç‰¹åˆ«é€‚åˆç”¨äºŽ**å¼‚æž„å›¾**ï¼Œä½ å¯ä»¥æ ¹æ®ä¸åŒçš„å…ƒè·¯å¾„é€‰æ‹©ä¸åŒçš„ç›¸ä¼¼åº¦è§†è§’ã€‚  
> - å’Œ node2vec è¿™ç§å±€éƒ¨æ¸¸èµ°æ–¹æ³•ç›¸æ¯”ï¼ŒPathSim æ›´â€œå…¨å±€â€å’Œâ€œè¯­ä¹‰æ˜Žç¡®â€ã€‚  
>
> 



## æ—¶åºç®—æ³•

### RNNä¸ŽLSTM

[ç¬”è®°](https://zhuanlan.zhihu.com/p/473671479)

#### å°ç»“

* å¼•å…¥ï¼šslot filling

  > Slot filling æ˜¯è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰ä¸­çš„ä¸€ä¸ªå¸¸è§ä»»åŠ¡ï¼Œé€šå¸¸å‡ºçŽ°åœ¨ **è¯­éŸ³è¯†åˆ«** å’Œ **å¯¹è¯ç³»ç»Ÿ** ä¸­ã€‚å®ƒçš„ç›®æ ‡æ˜¯ä»Žç”¨æˆ·çš„è¾“å…¥ï¼ˆä¾‹å¦‚è¯­éŸ³æˆ–æ–‡æœ¬ï¼‰ä¸­æå–å‡ºç‰¹å®šçš„å…³é”®ä¿¡æ¯ï¼Œå¹¶å¡«å……åˆ°é¢„å®šä¹‰çš„â€œæ§½â€ä¸­ã€‚
  >
  > è¿™äº›â€œæ§½â€æ˜¯æŒ‡æ¨¡åž‹é¢„å…ˆå®šä¹‰çš„å­—æ®µï¼Œæ¯ä¸ªæ§½å¯¹åº”ä¸€ä¸ªå…·ä½“çš„ä¿¡æ¯ç±»åž‹ï¼ˆæ¯”å¦‚æ—¥æœŸã€åœ°ç‚¹ã€æ•°é‡ç­‰ï¼‰ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªå¤©æ°”æŸ¥è¯¢ç³»ç»Ÿä¸­ï¼Œå¯èƒ½ä¼šæœ‰å¦‚ä¸‹æ§½ï¼š
  >
  > - **åŸŽå¸‚**ï¼šç”¨æˆ·æåˆ°çš„åŸŽå¸‚å
  > - **æ—¥æœŸ**ï¼šç”¨æˆ·è¯¢é—®çš„æ—¥æœŸ
  > - **æ¸©åº¦**ï¼šç”¨æˆ·å…³å¿ƒçš„æ¸©åº¦å€¼
  >
  > å‡è®¾ç”¨æˆ·è¾“å…¥ï¼š"æˆ‘æƒ³çŸ¥é“æ˜Žå¤©åŒ—äº¬çš„å¤©æ°”"ï¼Œç³»ç»Ÿçš„ä»»åŠ¡å°±æ˜¯è¯†åˆ«â€œæ˜Žå¤©â€ä½œä¸ºæ—¥æœŸï¼Œå¹¶è¯†åˆ«â€œåŒ—äº¬â€ä½œä¸ºåŸŽå¸‚ï¼Œå¹¶å°†è¿™äº›ä¿¡æ¯å¡«å……åˆ°ç›¸åº”çš„æ§½ä¸­ã€‚
  >
  > ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼š
  >
  > - **è¾“å…¥**ï¼š"é¢„å®šæ˜Žå¤©ä»ŽåŒ—äº¬é£žå¾€ä¸Šæµ·çš„èˆªç­"
  > - **æ§½**ï¼š
  >   - **æ—¥æœŸ**: æ˜Žå¤©
  >   - **èµ·ç‚¹**: åŒ—äº¬
  >   - **ç»ˆç‚¹**: ä¸Šæµ·
  >
  > åœ¨å¯¹è¯ç³»ç»Ÿä¸­ï¼Œæ§½å¡«å……é€šå¸¸å’Œ **æ„å›¾è¯†åˆ«**ï¼ˆintent recognitionï¼‰ä¸€èµ·ä½¿ç”¨ã€‚æ„å›¾è¯†åˆ«ç”¨äºŽç¡®å®šç”¨æˆ·çš„è¯·æ±‚ç±»åž‹ï¼ˆæ¯”å¦‚æŸ¥è¯¢å¤©æ°”ã€é¢„å®šèˆªç­ï¼‰ï¼Œè€Œæ§½å¡«å……åˆ™ç”¨äºŽæå–ç”¨æˆ·è¯·æ±‚ä¸­çš„å…·ä½“å‚æ•°ã€‚

* æ€è€ƒä¸ºä»€ä¹ˆæ¿€æ´»å‡½æ•°ä½¿ç”¨ `tahn` è€Œä¸ä½¿ç”¨ `ReLU`

* è‹¥ nn å­˜åœ¨è®°å¿†åŠ›ï¼Œé‚£ä¹ˆä»–å°±å¯ä»¥è§£å†³ input ç›¸åŒï¼Œä½†æ˜¯ output ä¸åŒè¿™ä¸€é—®é¢˜ï¼ˆå°åŒ—å¯ä»¥æ˜¯å‡ºå‘åœ°ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›®çš„åœ°ï¼Œå…³é”®çœ‹è¯­ä¹‰ ï¼‰

  * æ­£å¼å› ä¸º RNN å­˜åœ¨â€œè®°å¿†åŠ›â€ï¼Œæ‹¥æœ‰ store éƒ¨ä»¶ï¼Œè¿™æ‰ä¼šä½¿å¾— ==**change the sequence order will change the output**ï¼Œä¸€åˆ‡éƒ½å°†ä¼šå˜å¾— different==ï¼Œä¸€å®šè¦é‡ç‚¹ç†è§£æ¸…æ¥šè¿™ä¸€ç‚¹

* æ€è€ƒä¸ºä»€ä¹ˆè¦è®¾è®¡å¾—è¿™ä¹ˆå¤æ‚ï¼Œæžäº†è¿™ä¹ˆå¤šçš„é—¨ï¼Ÿå…¶æ—¶åºçš„æ€§è´¨åœ¨å“ªé‡Œä½“çŽ°ï¼Ÿ

* é€šè¿‡è®¾è®¡â€œé—¨æœºåˆ¶â€(gate) æ¥æŽ§åˆ¶ä¿¡æ¯çš„è®°å¿†å’Œé—å¿˜ï¼Œèƒ½å¤Ÿé•¿æœŸä¿ç•™ä¿¡æ¯ã€‚ä½†æ˜¯ä¸ºä»€ä¹ˆå¼•å…¥äº†è®°å¿†å•å…ƒå’Œé—¨æŽ§æœºåˆ¶ï¼Œä½¿å¾—æ¨¡åž‹èƒ½å¤Ÿ**é•¿æ—¶é—´è®°ä½ä¿¡æ¯**ï¼Œå¹¶ä¸”èƒ½å†³å®šåœ¨ä»€ä¹ˆæ—¶å€™ **ä¿ç•™ä¿¡æ¯**ï¼Œåœ¨ä»€ä¹ˆæ—¶å€™ **å¿˜è®°ä¿¡æ¯**

  * å®ƒç»´æŠ¤äº†ä¸¤ä¸ªé‡è¦çŠ¶æ€
    * cell Stateï¼ˆè®°å¿†å•å…ƒï¼‰ï¼šé•¿æœŸè®°å¿†
    * Hidden Stateï¼ˆéšè—çŠ¶æ€ï¼‰ï¼šå½“å‰æ—¶é—´æ­¥çš„è¾“å‡ºï¼ˆä¹Ÿæ˜¯çŸ­æœŸè®°å¿†ï¼‰
  * ä½†æ˜¯å®ƒå’Œ Transform çš„åŒºåˆ«è¿˜æ˜¯ Transform èƒ½å¤Ÿåšåˆ°å…¨å±€æ³¨æ„åŠ›ï¼Œè€Œ LSTM åˆ™ä¾èµ–é¡ºåºè¾“å…¥ã€‚
  * **LSTMï¼šåœ¨ä¸€æ¡æ—¶é—´è½´ä¸Šâ€œè®°å¿†-å¿˜è®°-è¾“å‡ºâ€è¯­ä¹‰å•å…ƒï¼Œé é—¨æœºåˆ¶æ¥è¿›è¡Œè¯­ä¹‰åˆ‡æ¢ã€‚**

    **Transformerï¼šåœ¨å…¨å±€ç©ºé—´ä¸Šâ€œæ¯”å¯¹-å…³æ³¨-æ•´åˆâ€è¯­ä¹‰å—ï¼Œé æ³¨æ„åŠ›é‡åˆ†å¸ƒæ¥æ•æ‰è¯­ä¹‰è¾¹ç•Œã€‚**

* é€šä¿—æ¯”å–»çš„ç†è§£ï¼Œä½ å¯ä»¥æŠŠ LSTM æƒ³è±¡æˆä¸€ä¸ªäººè®°ç¬”è®°çš„è¿‡ç¨‹ï¼š

  - **Cell State** æ˜¯ä»–çš„å¤§è„‘ï¼Œè®°å½•ä»–ç›®å‰è®°ä½çš„æ‰€æœ‰ä¿¡æ¯ï¼›
  - **é—å¿˜é—¨**ï¼šä»–å†³å®šè¦ä¸è¦æŠŠæ—§çš„å†…å®¹ä»Žè„‘ä¸­â€œå¿˜æŽ‰â€ï¼›
  - **è¾“å…¥é—¨**ï¼šä»–å†³å®šæ˜¯å¦æŠŠæ–°çœ‹åˆ°çš„å†…å®¹è®°ä¸‹æ¥ï¼›
  - **è¾“å‡ºé—¨**ï¼šä»–å†³å®šè¦ä¸è¦æŠŠæŸäº›è®°å¿†è¯´å‡ºæ¥ï¼ˆç”¨äºŽä¸‹ä¸€æ­¥ä»»åŠ¡ï¼‰ã€‚
  - å¦å¤–é™„ä¸Šæˆ‘çš„ä¸€ä¸ªæ¯”è¾ƒåˆæ´žå¯ŸåŠ›çš„ç†è§£ï¼š==LSTM çš„é—¨æœºåˆ¶ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯åœ¨æ¯ä¸€æ­¥åˆ¤æ–­â€œè¯­ä¹‰æ˜¯å¦å®Œæˆâ€ï¼Œâ€œæ˜¯å¦éœ€è¦æ›´æ–°è®°å¿†â€ï¼Œä»¥åŠâ€œæ˜¯å¦è¦è¾“å‡ºè®°å¿†â€ã€‚==
  
* ä¸ºä»€ä¹ˆåœ¨è¿›è¡Œäº† $c'=g(z)f(z_i)+cf(z_f)$ çš„è®¡ç®—åŽï¼Œéœ€è¦å¯¹ $c'$ è¿›è¡Œ $\text{softmax}$ æ“ä½œï¼Ÿ

  * å°†è®¡ç®—ç»“æžœè½¬æ¢ä¸º **æ¦‚çŽ‡åˆ†å¸ƒ**ï¼Œä¾¿äºŽé€‰æ‹©æœ€ä¼˜çš„å†³ç­–ã€‚
  
    å¯¹è¾“å‡ºè¿›è¡Œå½’ä¸€åŒ–ï¼Œä½¿å¾—ä¸åŒä¿¡æ¯çš„è´¡çŒ®åˆç†åˆå¹¶ã€‚
  
    åœ¨ **åˆ†ç±»ä»»åŠ¡** æˆ– **ç”Ÿæˆä»»åŠ¡** ä¸­ï¼Œæ ¹æ®æ¦‚çŽ‡è¿›è¡Œé€‰æ‹©ã€‚
  
    ä¸»è¦è¿˜æ˜¯å› ä¸ºé©¬ä¸Šè¦è¿›å…¥è¾“å‡ºå±‚äº†
  
* **RNN åœ¨å¤„ç†éšè—çŠ¶æ€ï¼ˆhidden stateï¼‰å’Œè¾“å…¥ï¼ˆinputï¼‰æ—¶ï¼Œå¸¸è§çš„æ“ä½œç¡®å®žåŒ…æ‹¬ç›¸åŠ ã€æ‹¼æŽ¥ç­‰æ–¹å¼**ã€‚

  * æœ€åˆå§‹çš„ç‰ˆæœ¬æ˜¯ç›¸åŠ ï¼ˆæœ€ç®€åŒ–ç‰ˆæœ¬ï¼‰ï¼Œä¸€èˆ¬çš„éƒ½æ˜¯é‡‡å–æ‹¼æŽ¥æ“ä½œæ‹¼æŽ¥ï¼ˆè¿™æ˜¯æœ€å¸¸è§çš„ï¼‰
  
  * ä½¿ç”¨ `cat` æ“ä½œæ›´å®¹æ˜“ç†è§£å…¶ä¸­çš„è®°å¿†åŠ›æœºåˆ¶
  
* å°è¯•è‡ªå·±å†™ä»£ç å®žçŽ°ä¸€ä¸‹ `LSTM` çš„æ ¸å¿ƒæ¡†æž¶

#### RNNæ ¸å¿ƒæè¦

* å¦‚ä½•ç†è§£RNNä¸­çš„éšè—çŠ¶æ€

  * æˆ‘ä»¬å¯ä»¥å°†RNNä¸­çš„éšè—çŠ¶æ€ï¼ˆå‡è®¾å…¶ç»´åº¦ä¸º $h_{dim}$ï¼‰ç†è§£æˆåœ¨æœºå™¨ä¸€ä¸ªå­—ç¬¦ä¸€ä¸ªå­—ç¬¦åœ°é˜…è¯»æ–‡æœ¬æ—¶ï¼Œä¸æ–­åœ°åŽ»**æ›´æ–°**è¿™æ®µ**ä¸­å¿ƒæ–‡æœ¬çš„æŠ½è±¡**ï¼Œå³ $hidden$ è¿™ä¸ªå‘é‡å°±æ˜¯åœ¨æè¿°è¿™ä¸ª**ä¸­å¿ƒæ–‡æœ¬çš„æŠ½è±¡**ï¼Œå¹¶ä¸”ä¼šéšç€é˜…è¯»çš„é€’è¿›ä¸æ–­åœ°æ›´æ–°ã€‚æˆ‘ä»¬å¯ä»¥æ ¹æ®ä»»åŠ¡éœ€æ±‚çš„ä¸åŒæ¥åˆ©ç”¨å®ƒï¼Œæ¯”å¦‚æˆ‘ä»¬çš„ä»»åŠ¡æ˜¯é¢„æµ‹ä¸‹ä¸€ä¸ªå­—ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„è¾“å‡ºç»´åº¦ $out_{dim}$ åº”è¯¥å¯¹åº”è¯åº“çš„å¤§å°ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ªçº¿æ€§å˜æ¢å°† $h_{dim}$ ç»´åº¦çš„æ•°æ®æŠ•å½±åˆ° $out_{dim}$ çš„æ•°æ®

* ==ä»Ž~~**åå‘ä¼ æ’­**~~çš„è§’åº¦ç†è§£æ¨¡åž‹çš„çŸ­æœŸè®°å¿†==ï¼ˆ**æ¯ä¸ªæ—¶é—´ç‚¹çš„è¾“å‡ºå¯¹åŽç»­çš„è´¡çŒ®**ï¼‰

  * è‡ªå·±ä¸¾ä¸€ä¸‹ä¾‹å­ç†è§£
    * å¯ä»¥çœ‹ä¸€ä¸‹è¿™ä¸ª[ä¾‹å­](https://github.com/GenTang/regression2chatgpt/blob/zh/ch10_rnn/bptt_example.ipynb)
    * è‡ªå·±æ‰‹ç®—æ¨¡æ‹Ÿäº†ä¸€ä¸‹ï¼Œè‹¥æƒé‡ $W$ ä¸Ž $W_h$ éƒ½ä»‹äºŽ 0~1 ä¹‹é—´ï¼Œå…¶å®žå‰å‘ä¼ æ’­çš„è¿‡ç¨‹ä¸­ï¼Œæƒé‡ä¹Ÿä¼šæ…¢æ…¢å˜å°ï¼Œè¿™å…¶å®žæ‰æ˜¯æœ€æœ¬è´¨çš„ä¸œè¥¿
    
  * åŽç»­å¯¹åº”çš„æ¢¯åº¦å€¼è¶Šå°ï¼Œé‚£ä¹ˆå®ƒå¯¹åŽç»­ä¿¡æ¯çš„è´¡çŒ®å°±ä¼šæ›´å°ï¼Œå³æ•°æ®è·ç¦»è¶Šè¿œ -> åå‘ä¼ æ’­çš„è·¯å¾„è¶Šé•¿ -> æ¢¯åº¦è¶Šå®¹æ˜“æ¶ˆå¤± -> å¸¦æ¥çš„ä¿¡æ¯é‡è¶Šå°‘ã€‚æ¯”å¦‚ $h_3$ åŒæ—¶ä¼šå—åˆ° $x_1, x_2,x_3$ è¾“å…¥ä¿¡æ¯çš„å½±å“ï¼Œå› ä¸º $x_3$ è·ç¦» $h_3$ æ›´è¿‘ï¼Œå› æ­¤ $x_3$ çš„è´¡çŒ®æœ€å¤§ã€‚

  * ä»Ž**ç½‘ç»œç»“æž„**ä¸Šæ¥çœ‹ ï¼Œå¾ªçŽ¯ç¥žç»ç½‘ç»œç†è®ºä¸Šå¯ä»¥å¤„ç†æ— é™é•¿çš„åºåˆ—çš„å…³è”å…³ç³»ï¼Œ~~ä½†æ˜¯ç”±äºŽ**åå‘ä¼ æ’­ç®—æ³•**çš„é™åˆ¶~~ï¼ˆè¿™é‡Œçš„è¡¨è¿°æˆ‘è®¤ä¸ºæœ‰ä¸€äº›é—®é¢˜ï¼‰ï¼Œå®ƒåªèƒ½å¤„ç†è·ç¦»å®ƒæ¯”è¾ƒè¿‘çš„æ•°æ®çš„ä¿¡æ¯ã€‚äº‹å®žä¸Šï¼Œæ›´ç²¾ç¡®çš„è¡¨è¿°æ˜¯ï¼š
  
    > **â€œè°å¯¹æœ€ç»ˆ loss æœ‰æ›´å¤§è´¡çŒ®â€ï¼Œæœ¬è´¨ä¸Šæ˜¯çœ‹è°åœ¨å‰å‘ä¼ æ’­ä¸­æ›´ä¸»å¯¼æ•´ä¸ªæ¨¡åž‹çš„è¾“å‡ºï¼›åå‘ä¼ æ’­çš„==æ¢¯åº¦åªæ˜¯é‡åŒ–è¿™ç§è´¡çŒ®çš„æ–¹å¼==ã€‚è€Œè·¯å¾„é•¿åº¦ã€éžçº¿æ€§ã€æƒé‡ç­‰ç­‰åªæ˜¯==æ”¾å¤§æˆ–è¡°å‡è¿™ç§ä¸»å¯¼æ€§==çš„æ‰‹æ®µã€‚â€**
  
    è¿™ä¸€ç‰¹æ€§åœ¨å­¦æœ¯ä¸Šç§°ä¸º**çŸ­æœŸè®°å¿†**
  



#### LSTMæ ¸å¿ƒæè¦

* è¿™é‡Œç»™å‡ºä¸€ä¸‹éšè—çŠ¶æ€çš„æ•°å­¦è¡¨è¾¾å¼ï¼ˆè·Ÿæˆ‘æƒ³å¾—å·®ä¸å¤šï¼‰ï¼š$H_i=\sum_{k=1}^{i}V_kW_h^{i-k}$ï¼Œå…¶ä¸­ $V_k = X_kW_v$ï¼Œå¯è§éšç€å±‚æ•°çš„åŠ æ·±ï¼Œ$H_i$ ä¼šé€æ¸è¶‹äºŽ0ï¼Œå› æ­¤ï¼Œå¦‚æžœæˆ‘ä»¬æƒ³è§£å†³çŸ­æœŸè®°å¿†çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°±éœ€è¦æ‰“ç ´è¿™æ ·ä¸€ä¸ªé€šè¿‡çº¿æ€§å˜æ¢ç›´æŽ¥å‚ä¸Žæ›´æ–°çš„è¿™ä¸€ä¸ªè¿‡ç¨‹ï¼Œè¿™ä¹Ÿæ˜¯é•¿çŸ­æœŸè®°å¿†ç½‘ç»œçš„ä¸»è¦åˆ›æ–°ç‚¹

* è¿™é‡Œå…ˆåšä¸€ä¸ªå‰æ™¯æè¦

  æˆ‘ä»¬æœ€ç®€å•çš„ç¥žç»ç½‘ç»œæ˜¯å¤šå±‚æ„ŸçŸ¥æœºå®ƒå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹å¹¶ä¸”åˆ†åˆ«è¢«è¡¨æ ¼å³è¾¹çš„ç½‘ç»œâ€œæ‰“ç ´â€ã€‚

  | MLPçš„ç‰¹ç‚¹              | è¢«å“ªä¸ªæ¨¡åž‹è¿›è¡Œäº†ä¼˜åŒ– |
  | ---------------------- | -------------------- |
  | ç¥žç»å…ƒåˆ†å±‚ä¸€ç»´æŽ’åˆ—     | å·ç§¯ç¥žç»ç½‘ç»œ         |
  | è·¨å±‚ä¸è¿žæŽ¥ï¼Œç›¸é‚»å±‚è¿žæŽ¥ | æ®‹å·®ç½‘ç»œ             |
  | åŒå±‚ç¥žç»å…ƒä¹‹é—´ç›¸äº’ç‹¬ç«‹ | å¾ªçŽ¯ç¥žç»ç½‘ç»œ         |
  | ç¥žç»å…ƒç»“æž„ç®€å•         | é•¿çŸ­æœŸè®°å¿†ç½‘ç»œ       |

* é•¿-çŸ­æœŸè®°å¿†ç½‘ç»œçš„ç»“æž„

  * å°†å•ä¸€éšè—çŠ¶æ€åˆ†è§£æˆç»†èƒžçŠ¶æ€å’Œéšè—çŠ¶æ€
  * ç»†èƒžçŠ¶æ€å’Œéšè—çŠ¶æ€çš„æ›´æ–°è¿‡ç¨‹æ›´åŠ å¤æ‚ï¼Œæ¨¡æ‹Ÿäººç±»é˜…è¯»çš„è¿‡ç¨‹
  * å¯ä»¥å°†ç»†èƒžçŠ¶æ€ç†è§£ä¸ºé•¿æœŸè®°å¿†ï¼Œéšè—çŠ¶æ€ç†è§£ä¸ºçŸ­æœŸè®°å¿†

* æˆ‘ä»¬**æ­»è®°ç¡¬èƒŒä¸€äº›æ¨¡åž‹çš„ç»„ä»¶å…¶å®žæ˜¯æ²¡æœ‰ä»€ä¹ˆåµç”¨**çš„ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥ä¾ç…§æˆ‘ä»¬çš„åˆ›é€ æ€§è‡ªå·±æ­å»ºæ¨¡åž‹ã€‚è€Œæˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯**åŽ»ç†è§£æ¨¡åž‹ç»„ä»¶å®ƒæƒ³è¾¾åˆ°ä»€ä¹ˆç›®çš„ï¼Ÿå…¶è®¾è®¡çš„ç²¾é«“æ˜¯ä»€ä¹ˆï¼Ÿä»¥åŠæˆ‘ä»¬å¦‚ä½•é«˜æ•ˆçš„ç”¨ä»£ç æŠŠè¿™ä¸ªè®¾è®¡ç¿»è¯‘å‡ºæ¥ã€‚**

* ä¸€äº›æœ‰å…³å†…å®¹çš„æ¿€æ´»å‡½æ•°è®¾ç½®æˆ `tanh` çš„æ„ä¹‰ï¼š

  * tanhä¸ºè´Ÿåœ¨LSTMä¸­å¯¹åº”çš„æ„ä¹‰æ˜¯ï¼šï¼ˆ1ï¼‰å½“å‰è¾“å…¥ä¸Žå·²æœ‰è®°å¿†å†²çªï¼ˆ2ï¼‰æ¨¡åž‹å¸Œæœ›çº æ­£æˆ–åè½¬ä¹‹å‰çš„è®°å¿†
  * tanhå…·æœ‰è‰¯å¥½çš„æ€§è´¨ï¼Œé€‚åˆåœ¨éšè—å±‚ä½¿ç”¨




## å…¶ä»–ç®—æ³•

### attention is all your need

* å¤§æ¦‚å¼„æ‡‚äº†æ¯ä¸ªå¼ é‡æ“ä½œæ‰€è•´å«çš„æ„ä¹‰ï¼ˆè¿™ä¸€ç‚¹å¾ˆå…³é”®ï¼‰

#### ä¸€äº›ç–‘é—®

* ä¸ºä»€ä¹ˆå½’ä¸€åŒ–æ˜¯é™¤ä»¥ $\sqrt{d}$ è€Œä¸æ˜¯ $d$ æˆ–è€… $d^2$

  ä¸€äº›éƒ½æ˜¯ä¸ºäº†è®©æ•°å€¼ç¨³å®šåœ¨**åˆç†çš„èŒƒå›´**ä¹‹å†…ï¼ˆç†è§£ä»€ä¹ˆæ˜¯åˆç†çš„èŒƒå›´ï¼‰

  > 1. ç‚¹ç§¯çš„æœŸæœ›å€¼éšç€ç»´åº¦çš„å¢žå¤§è€Œå¢žå¤§  
  >
  > å‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªéšæœºçš„é«˜ç»´å‘é‡ $\mathbf{Q}$ å’Œ $\mathbf{K}$ï¼Œå®ƒä»¬çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ç‹¬ç«‹é‡‡æ ·çš„æ ‡å‡†æ­£æ€åˆ†å¸ƒï¼ˆå‡å€¼ä¸º $0$ï¼Œæ–¹å·®ä¸º $1$ï¼‰ã€‚å¯¹äºŽè¿™ä¸¤ä¸ªå‘é‡çš„ç‚¹ç§¯ $\mathbf{Q}^T \mathbf{K}$ï¼Œå®ƒçš„æœŸæœ›å€¼ä¸ºï¼š  
  > $$
  > E[\mathbf{Q}^T \mathbf{K}] = \sum_{i=1}^{d} E[Q_i K_i] = 0
  > $$
  >
  > å› ä¸º $Q_i$ å’Œ $K_i$ æ˜¯ç‹¬ç«‹çš„æ ‡å‡†æ­£æ€åˆ†å¸ƒï¼Œ$E[Q_i K_i] = 0$ï¼Œä½†æ˜¯å®ƒçš„æ–¹å·®æ˜¯ï¼š  
  >
  > $$
  > \text{Var}[\mathbf{Q}^T \mathbf{K}] = \sum_{i=1}^{d} \text{Var}[Q_i K_i] = d
  > $$
  >
  > æ‰€ä»¥éšç€ç»´åº¦ $d$ çš„å¢žå¤§ï¼Œç‚¹ç§¯çš„æ–¹å·®ä¹Ÿä¼šå¢žå¤§ã€‚å…·ä½“æ¥è¯´ï¼Œç‚¹ç§¯çš„æ ‡å‡†å·®ä¼šéšç€ $d$ çš„å¢žå¤§è€Œå¢žåŠ ï¼š  
  >
  > $$
  > \text{Std}[\mathbf{Q}^T \mathbf{K}] = \sqrt{d}
  > $$
  >
  > 2. å½’ä¸€åŒ–çš„ç›®çš„  
  >
  > ç”±äºŽç‚¹ç§¯çš„æ ‡å‡†å·®éšç€ç»´åº¦çš„å¢žå¤§è€Œå¢žåŠ ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ç‚¹ç§¯è¿›è¡Œå½’ä¸€åŒ–ï¼Œä»¥é¿å…éšç€ç»´åº¦çš„å¢žåŠ ï¼Œç‚¹ç§¯å€¼å˜å¾—è¿‡å¤§ï¼Œè¿›è€Œå½±å“è®­ç»ƒçš„ç¨³å®šæ€§ã€‚åœ¨æ³¨æ„åŠ›æœºåˆ¶ä¸­ï¼Œå½’ä¸€åŒ–æ“ä½œä¸€èˆ¬æ˜¯å°†ç‚¹ç§¯ç»“æžœé™¤ä»¥ $\sqrt{d}$ï¼Œä»Žè€ŒæŽ§åˆ¶å…¶æ•°å€¼èŒƒå›´ã€‚  
  >
  > - å¦‚æžœæˆ‘ä»¬ç›´æŽ¥é™¤ä»¥ $d$ æˆ– $d^2$ï¼Œé‚£ä¹ˆå½’ä¸€åŒ–åŽçš„ç»“æžœå°†å˜å¾—è¿‡å°ï¼Œå¯èƒ½å¯¼è‡´æ¢¯åº¦æ›´æ–°ä¸æ˜¾è‘—ï¼Œä»Žè€Œå½±å“æ¨¡åž‹çš„è®­ç»ƒæ•ˆæžœã€‚  
  > - å¦‚æžœé™¤ä»¥ $\sqrt{d}$ï¼Œåˆ™å¯ä»¥å°†ç‚¹ç§¯çš„ç»“æžœä¿æŒåœ¨ä¸€ä¸ªåˆç†çš„èŒƒå›´å†…ï¼Œé¿å…æ•°å€¼è¿‡å¤§æˆ–è¿‡å°ï¼Œä¿è¯è®­ç»ƒè¿‡ç¨‹ä¸­çš„ç¨³å®šæ€§ã€‚  
  >
  > 3. ä¸ºä»€ä¹ˆæ˜¯ $\sqrt{d}$ è€Œä¸æ˜¯ $d$ æˆ– $d^2$  
  >
  > - **å½’ä¸€åŒ– by $\sqrt{d}$** æ˜¯åŸºäºŽç‚¹ç§¯æ–¹å·®çš„å¹³æ–¹æ ¹æ¥åšçš„ã€‚åœ¨é«˜ç»´ç©ºé—´ä¸­ï¼Œå‘é‡ä¹‹é—´çš„ç‚¹ç§¯çš„æ–¹å·®é€šå¸¸æ˜¯ä¸Žç»´åº¦æˆæ­£æ¯”çš„ã€‚ç”±äºŽæ ‡å‡†å·®æ˜¯æ–¹å·®çš„å¹³æ–¹æ ¹ï¼Œå› æ­¤ä½¿ç”¨ $\sqrt{d}$ æ¥ç¼©æ”¾ç‚¹ç§¯å¯ä»¥ä½¿å¾—å½’ä¸€åŒ–åŽçš„å€¼å…·æœ‰åˆç†çš„åˆ†å¸ƒï¼Œå¹¶ä¸”é¿å…æ•°å€¼è¿‡å¤§ã€‚  
  > - å¦‚æžœç›´æŽ¥é™¤ä»¥ $d$ æˆ– $d^2$ï¼Œä¼šå¯¼è‡´ç‚¹ç§¯ç»“æžœè¢«è¿‡åº¦ç¼©å°ï¼Œä»Žè€Œä½¿å¾—è®¡ç®—çš„ç›¸ä¼¼åº¦å˜å¾—è¿‡äºŽå¾®å°ï¼Œè¿™æ ·åœ¨ softmax æ“ä½œåŽä¼šå¯¼è‡´æ•°å€¼ä¸ç¨³å®šæˆ–æ¢¯åº¦æ¶ˆå¤±ã€‚  
  >

